# Cloud Kitchen

## Introduction

สร้างโมเดลจำลองกศูนย์อาหาร โดยนำเทคโนโลยี embedded มาประยุกต์และปรับใช้ อย่างเช่น การสั่งอาหารหรือการเรียกเก็บเงินโดยกดเพียงแค่ปุ่มที่อยู่บนโต๊ะซึ่งเมนูอาหารที่สั่งจะส่งไปยังร้านค้าโดยอัตโนมัติส่วนจำนวนเงินที่ต้องจ่ายก็จะแสดงผ่านจอบนโต๊ะเพื่ออำนวยความสะดวกให้กับลูกค้าและยังมีไฟคอยบอกร้านค้าว่าโต๊ะตัวไหนที่ยังไม่ได้รับอาหาร ในส่วนของร้านค้ามีการแสดงเมนูอาหารและหมายเลขโต๊ะที่สั่ง นอกจากนี้ยังมีการแสดงปริมาณสต๊อกอาหารที่เหลืออีกด้วย โดยผู้จัดทำหวังว่าระบบนี้จะช่วยให้การจัดการในศูนย์อาหารมีประสิทธิภาพมากขึ้น

## Features

- ระบบออเดอร์อาหารจากโต๊ะลูกค้า: ทำให้ลูกค้าสามารถสั่งอาหารจากโต๊ะของลูกค้าไปยังร้านอาหารที่ต้องการได้
- ระบบคิวอาหารของร้านอาหาร: ทำให้ทราบออเดอร์อาหารที่ลูกค้าสั่งมาจากแต่ละโต๊ะได้
- ระบบเช็คสต๊อกสินค้า: มีการเช็คปริมาณสินค้าที่เหลืออยู่
- ระบบเช็คบิลอัตโนมัติ: ลูกค้าสามารถเช็คบิลจากโต๊ะโดยค่าอาหารจะแสดงในหน้าจอบนโต๊ะลูกค้า
- ระบบวัดอุณหภูมิร้านอาหาร: บอกอุณหภูมิภายในร้าน
- ระบบแจ้งเตือนอาหาร: ร้านอาหารสามารถรู้ว่าโต๊ะไหนที่ยังได้รับออเดอร์ไม่ครบ

## Eqiupment

### Board 1

- ESP32-WROOM-32
- OLED with SSD1306 driver
- LED
- Resistor 330 ohm
- Resistor 10k ohm
- Button * 3
- Thermistor (TTC05103) + 10K resistor

### Board 2

- ESP32-WROOM-32
- OLED with SSD1306 driver
- LED
- Resistor 330 ohm
- Resistor 10k ohm
- Button * 3
- Thermistor (TTC05103) + 10K resistor

### Board 3

- ESP32-WROOM-32
- OLED with SSD1306 driver
- LED
- Resistor 330 ohm
- Resistor 10k ohm
- Button * 3
- Thermistor (TTC05103) + 10K resistor

### Board 4

- ESP32-WROOM-32
- OLED with SSD1306 driver * 2

## Technique

- แต่ละบอร์ดติดต่อกันด้วยการใช้ protocol esp-now เพื่อทำการ broadcast และเช็ค IP Address ของบอร์ดเชฟ และบอร์ดโต๊ะลูกค้า
- ส่วนของโต๊ะลูกค้าแต่ละโต๊ะจะติดตั้งบอร์ด ESP32 โดยลง Firmware micropython เพื่อใช้ในการจัดการระบบออเดอร์
- ลูกค้าสามารถเลือกร้านอาหารและสั่งอาหารได้ผ่าน switch(ใช้เทคนิค debouncing) โดยจะแสดงผลผ่าน OLED โดยมีการกด switch เพื่อ interrupt การสั่งออเดอร์แล้วทำการส่งข้อมูลไปยังบอร์ดที่เป็นตัวจัดการระบบคิวของร้านอาหารทั้งหมด
- บอร์ดที่เป็นตัวจัดการระบบคิวของร้านอาหาร (ESP32) จะรับคิวที่มาจากแต่ละโต๊ะอาหารแล้วส่งต่อไปแสดงผลที่ OLED ของแต่ละร้านอาหาร
- มีการแยก Thread ระหว่างการวัดอุณหภูมิ และการแสดงออเดอร์สินค้าที่โต๊ะลูกค้าสั่ง
- ใช้ dict เก็บออเดอร์ของแต่ละร้านอาหาร และทำการคำนวณราคาหลังจากกด switch เพื่อทำการเช็คบิล